groups:
  - name: polaris-critical
    rules:
      - alert: CriticalCheckoutProbeFailed
        expr: probe_success{job="checkout-probe"} < 1
        for: 2m
        labels:
          severity: critical
          service: checkout
        annotations:
          summary: "Checkout ingress probe failing"
          description: "POST /api/v1/checkout/preview probe has failed for over 2 minutes."

      - alert: GatewayHealthProbeFailed
        expr: probe_success{job="gateway-health-probe"} < 1
        for: 2m
        labels:
          severity: warning
          service: gateway
        annotations:
          summary: "Gateway health probe failing"
          description: "Gateway /nginx_status probe has failed for over 2 minutes."
