[
  {
    "id": "I001",
    "priority": 1,
    "category": "foundation",
    "description": "Create reproducible multi-environment infrastructure baseline for dev, stage, and prod",
    "steps": [
      "Define environment variable contract and sample files",
      "Define local and shared runtime topology",
      "Verify all required services can start from a clean machine"
    ],
    "passes": true,
    "evidence": "Ran scripts/bootstrap_dev.ps1; .env created; topology and compose files validated.",
    "updated_at": "2026-02-27T05:42:55Z",
    "notes": "Acceptance: documented startup works end-to-end in dev. Dependencies: none. Repo: polaris-mall-infra."
  },
  {
    "id": "I002",
    "priority": 2,
    "category": "data",
    "description": "Provide database provisioning and migration baseline with rollback support",
    "steps": [
      "Create initial schema migration pipeline",
      "Add rollback plan for the latest migration",
      "Validate migration execution in a disposable environment"
    ],
    "passes": true,
    "evidence": "\u5df2\u5b9e\u73b0\u7248\u672c\u5316\u8fc1\u79fb\u4e0e\u6700\u8fd1\u4e00\u6b21\u56de\u6eda\uff0c\u6267\u884c migrate_validate_dev.ps1 \u901a\u8fc7\uff08\u8fc1\u79fb->\u56de\u6eda->\u91cd\u653e\uff09\u3002",
    "updated_at": "2026-02-27T08:51:34Z",
    "notes": "\u5305\u542b 0001/0002 \u8fc1\u79fb\u4e0e\u5bf9\u5e94 down \u6587\u4ef6\uff0c\u652f\u6301 schema_migrations \u8bb0\u5f55\u4e0e\u6700\u65b0\u7248\u672c\u56de\u9000\u3002"
  },
  {
    "id": "I003",
    "priority": 3,
    "category": "network",
    "description": "Set up API gateway and service routing for web-to-api and callback traffic",
    "steps": [
      "Define route map for user and admin APIs",
      "Add auth header forwarding and timeout policies",
      "Validate payment callback ingress route"
    ],
    "passes": true,
    "evidence": "\u7f51\u5173\u8def\u7531\u6309 admin/\u4e1a\u52a1 API/\u652f\u4ed8\u56de\u8c03\u62c6\u5206\u5e76\u5b8c\u6210\u9274\u6743\u5934\u4e0e\u8d85\u65f6\u7b56\u7565\uff1bnginx -t \u901a\u8fc7\uff0c\u56de\u8c03\u63a2\u6d4b\u7ed3\u679c POST=502(\u8f6c\u53d1\u547d\u4e2d)/GET=403(\u65b9\u6cd5\u53d7\u9650)\u3002",
    "updated_at": "2026-02-27T09:10:56Z",
    "notes": "\u652f\u4ed8\u56de\u8c03\u5165\u53e3\u9650\u5b9a POST\uff0cadmin \u8def\u7531\u4e0e\u4e1a\u52a1\u8def\u7531\u5206\u522b\u8bbe\u7f6e 15s/10s \u8d85\u65f6\uff0cWeb \u8def\u7531 8s\u3002"
  },
  {
    "id": "I004",
    "priority": 4,
    "category": "async",
    "description": "Establish message queue topics and worker runtime for order and payment events",
    "steps": [
      "Define event topic naming and retention policy",
      "Provision queue or stream runtime in non-prod",
      "Publish and consume a sample order event"
    ],
    "passes": true,
    "evidence": "\u5df2\u5efa\u7acb\u8ba2\u5355/\u652f\u4ed8 Redis Stream \u4e3b\u9898\u4e0e worker \u6d88\u8d39\u811a\u672c\uff0c\u6267\u884c queue_validate_flow_dev.ps1 \u53d1\u5e03\u5e76\u6d88\u8d39\u4e8b\u4ef6\u901a\u8fc7\u3002",
    "updated_at": "2026-02-27T09:27:02Z",
    "notes": "\u4e3b\u9898 polaris.events.order / polaris.events.payment\uff0c\u4fdd\u7559\u7b56\u7565 MAXLEN~10000\uff0c\u6d88\u8d39\u7ec4\u793a\u4f8b polaris-workers\u3002"
  },
  {
    "id": "I005",
    "priority": 5,
    "category": "delivery",
    "description": "Implement CI or CD pipeline with build, test, and deploy gates for all repos",
    "steps": [
      "Define pipeline stages and required checks",
      "Enforce branch protection gates",
      "Run deployment to dev environment from main branch"
    ],
    "passes": true,
    "evidence": "\u5df2\u4e3a infra/api/web \u4e09\u4ed3\u65b0\u589e CI/CD gate \u5de5\u4f5c\u6d41\uff0c\u4e14\u672c\u5730\u5b8c\u6210 go test\u3001\u524d\u7aef\u6d4b\u8bd5\u3001\u8fc1\u79fb\u9a8c\u8bc1\u4e0e\u961f\u5217\u9a8c\u8bc1\uff1b\u5931\u8d25\u5373\u963b\u65ad\u90e8\u7f72\u3002",
    "updated_at": "2026-02-27T09:31:15Z",
    "notes": "deploy-dev \u4ec5\u5728 main push \u4e14 gate \u6210\u529f\u540e\u6267\u884c\uff0cdocs/ci-cd.md \u63d0\u4f9b\u5206\u652f\u4fdd\u62a4\u5fc5\u8fc7\u68c0\u67e5\u6e05\u5355\u3002"
  },
  {
    "id": "I006",
    "priority": 6,
    "category": "observability",
    "description": "Add shared logging, metrics, tracing, and alerting baseline",
    "steps": [
      "Define log format and correlation id propagation",
      "Expose service metrics and dashboard",
      "Create alert rule for critical checkout failures"
    ],
    "passes": true,
    "notes": "\u9a8c\u6536\u7ed3\u679c\uff1aPrometheus\u89c4\u5219\u542b CriticalCheckoutProbeFailed\uff0cGrafana/Loki\u5065\u5eb7\u68c0\u67e5\u901a\u8fc7\uff0cnginx -t\u3001migrate_validate_dev.ps1\u3001queue_validate_flow_dev.ps1 \u5747\u901a\u8fc7\u3002",
    "evidence": "\u5df2\u5efa\u7acb\u53ef\u89c2\u6d4b\u57fa\u7ebf\uff1a\u7f51\u5173JSON\u65e5\u5fd7\u4e0etrace/correlation\u4f20\u9012\u3001Prometheus+Grafana+Loki+Exporter \u7ec4\u5408\u3001\u9884\u7f6e\u4eea\u8868\u76d8\u4e0e\u5173\u952e\u544a\u8b66\u89c4\u5219\uff0cobservability_validate_dev.ps1 \u6267\u884c\u901a\u8fc7\u3002",
    "updated_at": "2026-02-27T12:36:27Z"
  },
  {
    "id": "I007",
    "priority": 7,
    "category": "security",
    "description": "Set up secret handling, least-privilege access, and baseline security checks",
    "steps": [
      "Store credentials in managed secret source",
      "Limit runtime permissions by environment role",
      "Add dependency and container vulnerability scan"
    ],
    "passes": false,
    "notes": "Acceptance: no plaintext production credential in repo or logs. Dependencies: I001, I005. Repo: polaris-mall-infra."
  },
  {
    "id": "I008",
    "priority": 8,
    "category": "reliability",
    "description": "Prepare backup, restore, and rollback runbook for critical data and releases",
    "steps": [
      "Define backup schedule and retention policy",
      "Test point-in-time restore in stage",
      "Document release rollback and ownership model"
    ],
    "passes": false,
    "notes": "Acceptance: restore drill is executed and documented. Dependencies: I002, I005. Repo: polaris-mall-infra."
  }
]
